(function(e){function t(t){for(var s,n,r=t[0],i=t[1],c=t[2],u=0,p=[];u<r.length;u++)n=r[u],Object.prototype.hasOwnProperty.call(l,n)&&l[n]&&p.push(l[n][0]),l[n]=0;for(s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s]);d&&d(t);while(p.length)p.shift()();return o.push.apply(o,c||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],s=!0,r=1;r<a.length;r++){var i=a[r];0!==l[i]&&(s=!1)}s&&(o.splice(t--,1),e=n(n.s=a[0]))}return e}var s={},l={app:0},o=[];function n(t){if(s[t])return s[t].exports;var a=s[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=s,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(a,s,function(t){return e[t]}.bind(null,s));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],i=r.push.bind(r);r.push=t,r=r.slice();for(var c=0;c<r.length;c++)t(r[c]);var d=i;o.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"56d7":function(e,t,a){"use strict";a.r(t);a("5363");var s=a("2b0e"),l=a("bc3a"),o=a.n(l);let n={};const r=o.a.create(n);r.interceptors.request.use((function(e){return e}),(function(e){return Promise.reject(e)})),r.interceptors.response.use((function(e){return e}),(function(e){return Promise.reject(e)})),Plugin.install=function(e){e.axios=r,window.axios=r,Object.defineProperties(e.prototype,{axios:{get(){return r}},$axios:{get(){return r}}})},s["a"].use(Plugin);Plugin;var i=a("7496"),c=a("f6c4"),d=function(){var e=this,t=e._self._c;return t(i["a"],[t(c["a"],[t("ParserTable",{attrs:{base:e.base,token:e.token}})],1)],1)},u=[],p=a("8336"),h=a("b0af"),f=a("99d9"),g=a("62ad"),b=a("a523"),m=a("8fea"),v=a("169a"),x=a("4bd4"),k=a("132d"),y=a("0fd9"),_=a("b974"),P=a("2fa4"),w=a("b73d"),j=a("8654"),O=a("71d9"),I=function(){var e=this,t=e._self._c;return t(b["a"],[t(x["a"],{on:{submit:function(e){e.preventDefault()}}},[t(y["a"],{attrs:{justify:"space-around"}},[t(g["a"],{attrs:{cols:"12"}},[t(y["a"],[t(g["a"],{attrs:{cols:"auto"}},[e._v(" "+e._s(e.countProducts)+" Products edit. "),t(w["a"],{staticClass:"hidden",staticStyle:{display:"none"},scopedSlots:e._u([{key:"label",fn:function(){return[t(y["a"],{attrs:{"no-gutters":""}},[e.countProducts?t(g["a"],{staticClass:"my-5 mx-1",class:e.classCountProducts,attrs:{cols:"auto"}},[e._v(" "+e._s(e.countProducts)+" ")]):e._e(),e.countProducts?t(g["a"],{staticClass:"my-5 mx-1",attrs:{cols:"auto"}},[e._v(" / ")]):e._e(),t(g["a"],{staticClass:"my-5 mx-1",class:e.classCountAll,attrs:{cols:"auto"}},[e._v(" "+e._s(e.textEditAll)+" ")])],1)]},proxy:!0}]),model:{value:e.allProducts,callback:function(t){e.allProducts=t},expression:"allProducts"}})],1)],1)],1),t(g["a"],{attrs:{cols:"12"}},[t(j["a"],{attrs:{label:"What search?"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),t(j["a"],{attrs:{label:"How to replace?"},model:{value:e.replace,callback:function(t){e.replace=t},expression:"replace"}})],1),t(g["a"],{attrs:{cols:"12"}},[t(m["a"],{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.desserts,"hide-default-footer":""},scopedSlots:e._u([{key:"top",fn:function(){return[t(O["a"],{attrs:{flat:""}},[e._v(" Where to look? ")])]},proxy:!0},{key:"item.action",fn:function({item:a}){return[e._e(),t(k["a"],{attrs:{small:"","aria-hidden":"false"},on:{click:function(t){return e.deleteItem(a)}}},[e._v("  mdi-delete  ")])]}},{key:"no-data",fn:function(){return[e._v('Click "New Item" and create new task!')]},proxy:!0},{key:"footer",fn:function(){return[t(O["a"],{attrs:{flat:""}},[t(P["a"]),t(v["a"],{attrs:{"max-width":"500px"},scopedSlots:e._u([{key:"activator",fn:function({on:a,attrs:s}){return[t(p["a"],e._g(e._b({staticClass:"mb-2",attrs:{color:"primary",dark:""}},"v-btn",s,!1),a),[e._v(" "+e._s(e.editBtnText)+" ")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[t(h["a"],[t(f["c"],[t("span",{staticClass:"text-h5"},[e._v(e._s(e.formTitle))])]),t(f["b"],[t(b["a"],[t(y["a"],[t(g["a"],{attrs:{cols:"12",md:"6"}},[t(_["a"],{attrs:{items:e.fields,"return-object":"",label:"Select field:"},model:{value:e.selectedField,callback:function(t){e.selectedField=t},expression:"selectedField"}})],1),t(g["a"],{attrs:{cols:"12",md:"6"}},[t(_["a"],{attrs:{items:e.languages,"item-text":"name","return-object":"",label:"Select language:"},model:{value:e.selectedLanguage,callback:function(t){e.selectedLanguage=t},expression:"selectedLanguage"}})],1)],1)],1)],1),t(f["a"],[t(P["a"]),t(p["a"],{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v(" Cancel ")]),t(p["a"],{attrs:{color:"blue darken-1",text:""},on:{click:e.save}},[e._v(" OK ")])],1)],1)],1),t(v["a"],{attrs:{"max-width":"500px"},model:{value:e.dialogDelete,callback:function(t){e.dialogDelete=t},expression:"dialogDelete"}},[t(h["a"],[t(f["c"],{staticClass:"text-h5"},[e._v("Are you sure you want to delete this item?")]),t(f["a"],[t(P["a"]),t(p["a"],{attrs:{color:"blue darken-1",text:""},on:{click:e.closeDelete}},[e._v("Cancel")]),t(p["a"],{attrs:{color:"blue darken-1",text:""},on:{click:e.deleteItemConfirm}},[e._v("OK")]),t(P["a"])],1)],1)],1)],1)]},proxy:!0}])})],1),t(g["a"],{attrs:{cols:"12"}},[t(p["a"],{staticClass:"mb-2",attrs:{color:"primary",dark:""},on:{click:e.submit}},[e._v(" Post ")])],1)],1)],1)],1)},C=[],S=(a("5b81"),a("14d9"),{name:"Parser-Table",props:{base:String,token:String},data:()=>({appPath:"extension/module/multireplacer",dialog:!1,dialogDelete:!1,headers:[{text:"Field",align:"center",sortable:!1,value:"text"},{text:"Language",align:"center",sortable:!1,value:"name"},{text:"Actions",align:"center",sortable:!1,value:"action"}],search:"",replace:"",languages:[],fields:[],productString:"",desserts:[],editedIndex:-1,deleteTaskId:-1,selectedField:{},selectedLanguage:{},defaultField:{text:"",value:""},defaultLanguage:{language_id:"",name:"",code:"",locale:"",image:"",directory:"",sort_order:"0",status:"1"},allProducts:!0,textEditAll:"All products"}),computed:{isEdited(){var e,t,a,s;return(null===(e=this.selectedField)||void 0===e||null===(t=e.value)||void 0===t?void 0:t.length)||(null===(a=this.selectedLanguage)||void 0===a||null===(s=a.code)||void 0===s?void 0:s.length)},editBtnText(){return this.isEdited?"Add Item":"New Item"},formTitle(){return-1===this.editedIndex?"New Task for search":"Edit Item"},classCountProducts(){return this.allProducts?"":"primary--text"},countProducts(){var e;return(null===this||void 0===this||null===(e=this.productString)||void 0===e?void 0:e.replaceAll(/\s+/g,"").split(",").length)||0},classCountAll(){return this.allProducts?"primary--text":""}},watch:{dialog(e){e||this.close()},dialogDelete(e){e||this.closeDelete()}},mounted(){this.initialize()},beforeUpdate(){console.log("data update")},methods:{initialize(){this.getData(),this.getLocal()},getData(){let e=this;this.axios.get(`${this.base}index.php?route=${this.appPath}/loaddata&${this.token}`).then((function(t){console.log(t),e.fields=t.data.fields,e.languages=Object.values(t.data.languages),e.productString=t.data.products,e.desserts=t.data.tasks})).catch((function(e){console.log(e)})).then((function(){console.log("end get")}))},getLocal(){this.axios.get(`${this.base}index.php?route=${this.appPath}/loadlocal&${this.token}`).then((function(e){console.log(e)})).catch((function(e){console.log(e)})).then((function(){console.log("end get")}))},deleteItem(e){this.editedIndex=this.desserts.indexOf(e),this.selectedField={text:e.text,value:e.value},this.selectedLanguage={name:e.name,code:e.code},this.dialogDelete=!0},deleteItemConfirm(){this.editedIndex>-1&&this.desserts.splice(this.editedIndex,1),console.log("delete-splice id"+this.editedIndex),this.deleteTaskId=-1,this.closeDelete()},close(){this.dialog=!1,this.$nextTick(()=>{this.selectedField=Object.assign({},this.defaultField),this.selectedLanguage=Object.assign({},this.defaultLanguage),this.editedIndex=-1})},closeDelete(){this.dialogDelete=!1,this.$nextTick(()=>{this.editedIndex=-1})},save(){let e=Object.assign({},this.selectedField,this.selectedLanguage);this.desserts.push(e),this.close()},submit(){let e=this;this.axios({method:"post",url:`${this.base}index.php?route=${this.appPath}/postdata&${this.token}`,responseType:"json",data:{search:e.search,replace:e.replace,tasks:e.desserts}}).then((function(e){console.log(e),alert("Ok!")})).catch((function(e){console.log(e),alert("Error!")})).then((function(){console.log("end get")}))}}}),T=S,D=a("2877"),$=Object(D["a"])(T,I,C,!1,null,null,null),L=$.exports;let F="",A="",E=document.getElementById("data");{let e=E.dataset.httpserver;F=e||"localhost/",console.log("base=",F),A=location.href.replace(/.{0,}(&token=.*|&user_token=.*)/gi,"$1").replace(/#.+/gi,""),console.log("token=",A)}var M={name:"App",components:{ParserTable:L},data:()=>({base:F,token:A})},B=M,N=Object(D["a"])(B,d,u,!1,null,null,null),z=N.exports,J=a("f309");s["a"].use(J["a"]);var K=new J["a"]({});s["a"].config.productionTip=!1,new s["a"]({vuetify:K,render:e=>e(z)}).$mount("#app")}});
//# sourceMappingURL=app.js.map